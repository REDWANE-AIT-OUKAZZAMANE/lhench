(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{12:function(e,t,r){},14:function(e,t,r){"use strict";r.r(t);var s=r(0),n=r(3),a=(r(12),r(1));const c=20,o=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!1;do{e={x:Math.floor(Math.random()*c),y:Math.floor(Math.random()*c)},r=t.some((t=>t.x===e.x&&t.y===e.y))}while(r);return e};var l=()=>{const e=Object(s.useCallback)((()=>[{x:Math.floor(10),y:Math.floor(10)}]),[]),[t,r]=Object(s.useState)(e),[n,l]=Object(s.useState)(o(e())),[d,i]=Object(s.useState)("RIGHT"),[b,u]=Object(s.useState)("RIGHT"),[x,f]=Object(s.useState)(0),[m,j]=Object(s.useState)(!1),[h,y]=Object(s.useState)(200),O=Object(s.useRef)(null),g=Object(s.useRef)(null),w=Object(s.useCallback)((()=>{var t;const s=e();r(s),l(o(s)),i("RIGHT"),u("RIGHT"),f(0),j(!1),y(200),null===(t=g.current)||void 0===t||t.focus()}),[e]),p=Object(s.useCallback)((()=>{m||(i(b),r((e=>{const t=e[0];let r;switch(b){case"UP":r={x:t.x,y:t.y-1};break;case"DOWN":r={x:t.x,y:t.y+1};break;case"LEFT":r={x:t.x-1,y:t.y};break;case"RIGHT":r={x:t.x+1,y:t.y};break;default:r=t}if(r.x<0||r.x>=c||r.y<0||r.y>=c)return j(!0),e;if(e.some((e=>e.x===r.x&&e.y===r.y)))return j(!0),e;let s=!1;r.x===n.x&&r.y===n.y&&(s=!0,f((e=>e+1)),y((e=>Math.max(60,e-5))));const a=[r,...e];return s||a.pop(),s&&l(o(a)),a})))}),[n,b,m]);Object(s.useEffect)((()=>{if(!m)return O.current&&clearTimeout(O.current),O.current=setTimeout(p,h),()=>{O.current&&clearTimeout(O.current)};O.current&&clearTimeout(O.current)}),[p,h,m,t]);const v=Object(s.useCallback)((e=>{if(m)return;let t=null;switch(e.key){case"ArrowUp":"DOWN"!==d&&(t="UP");break;case"ArrowDown":"UP"!==d&&(t="DOWN");break;case"ArrowLeft":"RIGHT"!==d&&(t="LEFT");break;case"ArrowRight":"LEFT"!==d&&(t="RIGHT")}t&&u(t)}),[d,m]);return Object(s.useEffect)((()=>{var e;null===(e=g.current)||void 0===e||e.focus();const t=e=>{v(e)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[v]),Object(a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4 font-sans",children:[Object(a.jsx)("h1",{className:"text-3xl font-bold mb-4 text-green-400",children:"Snake Game"}),Object(a.jsxs)("div",{className:"flex items-center justify-between w-full max-w-md mb-4 px-2",children:[Object(a.jsxs)("div",{className:"text-xl font-medium",children:["Score: ",Object(a.jsx)("span",{className:"text-yellow-400 font-bold",children:x})]}),Object(a.jsxs)("div",{className:"text-sm text-gray-400",children:["Speed: ",Math.round(1e3/h)," blocks/sec"]})]}),Object(a.jsxs)("div",{ref:g,tabIndex:0,className:"relative w-80 h-80 bg-gray-800 border-4 border-green-700 rounded-lg overflow-hidden shadow-2xl focus:outline-none focus:ring-4 focus:ring-green-500/50",style:{perspective:"800px"},children:[t.map(((e,t)=>Object(a.jsx)("div",{className:`absolute rounded ${0===t?"bg-green-400 z-10":"bg-green-600"} shadow-md border border-green-700/50`,style:{left:5*e.x+"%",top:5*e.y+"%",width:"5%",height:"5%",transform:`translateZ(${0===t?"5px":"0px"}) scale(${0===t?1.1:1})`,transition:"left 0.1s linear, top 0.1s linear, transform 0.1s ease-out"}},t))),Object(a.jsx)("div",{className:"absolute bg-red-500 rounded-full shadow-xl animate-pulse border border-red-700/50",style:{left:5*n.x+"%",top:5*n.y+"%",width:"5%",height:"5%",transform:"translateZ(3px) scale(0.9)"}}),m&&Object(a.jsxs)("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-center z-20 rounded-md",children:[Object(a.jsx)("h2",{className:"text-5xl font-extrabold text-red-500 mb-4 drop-shadow-lg",children:"Game Over!"}),Object(a.jsxs)("p",{className:"text-2xl mb-8 text-gray-200",children:["Your Final Score: ",Object(a.jsx)("span",{className:"text-yellow-400 font-bold",children:x})]}),Object(a.jsx)("button",{onClick:w,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold rounded-lg shadow-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-400/50",children:"Restart Game"})]})]}),Object(a.jsxs)("p",{className:"mt-6 text-sm text-gray-400",children:["Use ",Object(a.jsx)("kbd",{className:"px-1 py-0.5 border border-gray-500 rounded bg-gray-700 text-gray-300",children:"Arrow Keys"})," to control the snake."]})]})};const d=document.getElementById("root");if(!d)throw new Error("Failed to find the root element");Object(n.createRoot)(d).render(Object(a.jsx)(s.StrictMode,{children:Object(a.jsx)(l,{})}))}},[[14,1,2]]]);
//# sourceMappingURL=main.b4ac8b22.chunk.js.map